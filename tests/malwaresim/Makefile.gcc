#
# Makefile for building unit tests with Google Test.
#

CXX = g++

GUNIT_BASE += ../gtest-1.7.0
GUNIT_PATH += $(GUNIT_BASE)/include

COMPILER_FLAGS += \
    -I$(GUNIT_PATH) \
    -I../src -I../src/malwaresim \
    -g -std=c++11 \
    -Wall

LIBS = $(GUNIT_BASE)/make/gtest_main.a -lpthread

# Tests
FILES += ../tests/malwaresim/DeviceTests.cxx

main: $(FILES)
	$(CXX) $(COMPILER_FLAGS) $(FILES) $(LIBS) -o unittests


all: main

clean:
	rm -rf unittests
